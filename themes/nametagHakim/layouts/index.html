{{ define "main" }}
{{$heroClass:=""}}
{{ if .Site.Params.Sections.navbar }}
    {{$heroClass = "is-fullheight-with-navbar"}}
{{ else }}
    {{$heroClass = "is-fullheight"}}
{{ end }}
<section class="hero is-black {{$heroClass}}">
    <div class="hero-body">
        <div class="container has-text-centered">
            <figure class="image mx-auto is-200x200">
                {{ $image := resources.Get "/images/headshot.jpg" }}
                <img class="is-rounded" src="{{ $image.RelPermalink }}">
            </figure>
            <br>
            <h1 class="title">{{ .Site.Params.name }}</h1>
            <p class="subtitle is-size-5">
                {{ .Site.Params.tagline1 }} 
                <br>
                {{ .Site.Params.tagline2 }}
            </p>
            <p class="links">
                <span class="socialIcons">
                    {{ range $.Site.Data.landerLinks }}
                        <a aria-label="{{.name}}" class = "{{.class}}" href="{{.link | safeURL}}" target="_blank">
                            <span class="{{.icon}}"></span>
                        </a>                            
                    {{ end }}
                    </span>
                {{ if .Site.Params.Resume.resume }}
                <a href="{{.Site.Params.Resume.link}}" class="">Resume</a>
                {{ end}}
            </p>
            {{ if .Site.Params.Resume.downChevron }}
            <a href="#bottom-content"><span class="bi-chevron-down" ></span></a>
            {{ end}}
        </div>
    </div>
</section>

<section id="projects-list" class="section mx-auto" style="max-width: 1200px;">
    {{ $flip := false}}
    {{ range where .Site.RegularPages "Type" "project" }}
        <div class="container box has-background-dark has-text-white">
            <div class="columns">
                {{ if not $flip }}
                    <div class="column is-three-quarters">
                        <h3 class="title has-text-white">{{ .Title }}</h3>
                        <p class="has-background-info">
                            {{ .Content }}
                            <a href="{{ .Permalink }}" class="link">{{ .Title }}</a>
                        </p>
                    </div>
                    <div class="column">
                        <figure class="image mb-5">
                            <img class="has-rounded-corners" src="https://bulma.io/images/placeholders/256x256.png">
                        </figure>
                        <a href="" class="button is-primary mx-auto">More Info</a>
                    </div>
                {{ else }}
                    <div class="column">
                        <figure class="image mb-5">
                            <img class="has-rounded-corners" src="https://bulma.io/images/placeholders/256x256.png">
                        </figure>
                        <a href="" class="button is-primary mx-auto">More Info</a>
                    </div>
                    <div class="column is-three-quarters">
                        <h3 class="title has-text-white">{{ .Title }}</h3>
                        <p class="has-background-info">
                            {{ .Content }}
                            <a href="{{ .Permalink }}" class="link">{{ .Title }}</a>
                        </p>
                    </div>
                {{ end }}
            </div>
        </div>
    {{ $flip = not $flip }}
    {{ end }}
</section>

{{ if .Site.Params.Sections.bottomContent }}
<section id="bottom-content" class="section">
    {{ if .Site.Params.Sections.summary }}
    {{- partial "summary.html" . -}}
    {{ end }}
    {{ if .Site.Params.Sections.timeline }}
    {{- partial "timeline.html" . -}}
    {{end}}
    {{ if .Site.Params.Sections.skills }}
    {{- partial "skills.html" . -}}
    {{end}}
    {{ if .Site.Params.Sections.moretocome }}
    {{- partial "moretocome.html" . -}}
    {{end}}
</section>
{{ end }}
{{ end }}